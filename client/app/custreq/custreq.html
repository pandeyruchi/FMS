<div ng-include="'components/navbar/navbar2.html'"></div>

<div class="container-fluid">
    <div id="mains" class="row">

        <div class="col-md-4 col-md-offset-4 details-form">
            <h3 style="color:#008855">Customer Request </h3>

            <form class="form" name="form" ng-submit="custreq()" novalidate>
                <div class="form-group" ng-class="{ 'has-success': submitted && form.customerName.$valid && form.customerName.$dirty,
                                            'has-error': form.customerName.$invalid && form.customerName.$dirty }">
                    <label> Customer Name </label>
                    <input type="text" ng-blur="visitedName = true" name="customerName" class="form-control"
                           ng-model="user.customerName" required>

                    <p class="help-block"
                       ng-show="form.customerName.$error.required && form.customerName.$dirty && visitedName">
                        Please enter customer name
                    </p>
                </div>

                <div class="form-group" ng-class="{ 'has-success': form.email.$valid && form.email.$dirty,
                                            'has-error': form.email.$invalid && form.email.$dirty }">
                    <label>Email</label>

                    <input type="email" ng-pattern="/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/"
                           ng-blur="visited = true" placeholder="someone@example.com" name="email" class="form-control"
                           ng-model="user.userName"
                           required/>

                    <p class="help-block" ng-show="form.email.$error.email && form.email.$dirty && visited">
                        Doesn't look like a valid email.
                    </p>

                    <p class="help-block" ng-show="form.email.$error.required && form.email.$dirty && visited">
                        What's your email address?
                    </p>
                </div>

                <div class="form-group" ng-class="{ 'has-success': form.address.$valid && form.address.$dirty,
                                            'has-error': form.address.$invalid && form.address.$dirty }">
                    <label> Address</label>
                    <textarea rows="4" ng-change="computeCoordinates()" class="form-control" name="address"
                              ng-blur="visitedAddress = true" ng-model="user.address" required></textarea>


                    <p class="help-block"
                       ng-show="form.address.$error.required && form.address.$dirty && visitedAddress">
                        Please enter address
                    </p>
                </div>

                <div class="form-group" ng-class="{ 'has-success': form.locality.$valid && form.locality.$dirty,
                                            'has-error': form.locality.$invalid && form.locality.$dirty }">
                    <label> Locality </label>
                    <input type="text" name="locality" ng-blur="visitedLocality = true" class="form-control"
                           ng-model="user.locality" required>

                    <p class="help-block"
                       ng-show="form.locality.$error.required && form.locality.$dirty && visitedLocality">
                        Please enter locality
                    </p>
                </div>


                <div class="form-group" ng-class="{ 'has-success': submitted && form.city.$valid && form.city.$dirty,
                                            'has-error': form.city.$invalid && form.city.$dirty }">
                    <label> City </label>
                    <input type="text" ng-blur="visitedCity = true" name="city" class="form-control"
                           ng-model="user.city" required>

                    <p class="help-block"
                       ng-show="form.city.$error.required && form.city.$dirty && visitedCity">
                        Please enter city
                    </p>
                </div>

                <div class="form-group" ng-class="{ 'has-success': form.contact.$valid && form.contact.$dirty,
                                            'has-error': form.contact.$invalid && form.contact.$dirty }">
                    <label>Phone</label>

                    <input type="text" class="form-control" name="contact" ng-model="user.mobileNo" required
                           ng-blur="visitedContact = true" ng-pattern="/^[+]?[0-9]{10}$/">

                    <p class="help-block"
                       ng-show="form.contact.$error.pattern && form.contact.$dirty && visitedContact">
                        Invalid contact number!
                    </p>

                    <p class="help-block"
                       ng-show="form.contact.$error.required && form.contact.$dirty && visitedContact">
                        Contact number required!
                    </p>

                </div>

                <div class="form-group" ng-class="{ 'has-success': form.desc.$valid && form.desc.$dirty,
                                            'has-error': form.desc.$invalid && form.desc.$dirty }">
                    <label> Description </label>
                    <textarea rows="4" class="form-control" name="desc" ng-model="user.description" required></textarea>


                    <p class="help-block" ng-show="form.desc.$error.required && form.desc.$dirty">
                        Please enter an issue
                    </p>
                </div>

                <div class="form-group">
                    <label>Priority</label>
                    <input type="radio" style="margin-left: 5px" name="yes" ng-model="user.urgentFlag" value="true"/>High
                    <input type="radio" style="margin-left: 5px" name="no" ng-model="user.urgentFlag" value="false"/>Normal
                </div>

                <div class="form-group">
                    <button class="btn btn-primary" type="submit"
                            ng-disabled="form.user.$dirty && form.user.$invalid ||
                         form.password.$dirty && form.password.$invalid" class="btn btn-primary" analytics-on="click"
                            analytics-category="CustomerRequest" analytics-event="CustomerRequest" analytics-label="Submit Customer Request">Submit
                    </button>&nbsp;&nbsp;&nbsp;
                    <button class="btn btn-primary" type="reset" value="Reset">Reset</button>
                </div>

            </form>
        </div>
    </div>
